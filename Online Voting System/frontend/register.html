<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="globals.css" />
    <link rel="stylesheet" href="register.css" />
  </head>
  <body>
    <div class="registration-page">
      <div class="div">
        <img class="figure" src="img/figure.png" />
        <div class="registration-form">
          <div class="text-wrapper">Registration form</div>

          <div class="input-box">
            <div class="label-name">Name</div>
            <input
              class="register-name"
              id="name"
              type="text"
              placeholder="Enter name"
            />
          </div>
          <div class="input-box">
            <div class="label-name">Date of Birth</div>
            <input
              class="register-name"
              id="dob"
              type="date"
              placeholder="Enter DOB"
            />
          </div>
          <div class="input-box">
            <div class="label-name">Father/Mother's Name</div>
            <input
              class="register-name"
              id="parentname"
              type="text"
              placeholder="Enter Father/Mother's name"
            />
          </div>
          <div class="input-box">
            <div class="label-name">Email</div>
            <input
              class="register-name"
              id="email"
              type="text"
              placeholder="Enter Email"
            />
          </div>
          <div class="input-box">
            <div class="label-name">Mobile No</div>
            <input
              class="register-name"
              id="moblieno"
              type="number"
              placeholder="Enter mobile no"
            />
          </div>
          <div class="input-box">
            <div class="label-name">Password</div>
            <input
              class="register-name"
              id="register-name"
              type="password"
              placeholder="Enter password"
            />
          </div>
          <div class="input-box">
            <div class="label-name">Re-enter Password</div>
            <input
              class="register-name"
              id="register-name"
              type="password"
              placeholder="Re-enter password"
            />
          </div>
          =
          <div class="input-box">
            <div class="label-name">Aadhar Number</div>
            <input
              class="register-name"
              id="aadhar"
              type="number"
              placeholder="Enter aadhar number"
            />
          </div>
          <div class="input-box">
            <div class="label-name">Address</div>
            <input
              class="register-name"
              id="address"
              type="text"
              placeholder="Enter address"
            />
          </div>
          <button id="submit-btn">
            <div id="submit-text">SUBMIT</div>
          </button>
        </div>
      </div>
    </div>
    <script>
      // Add a click event listener to the button

      document
        .getElementById("submit-btn")
        .addEventListener("click", function () {
          var allFilled = false;
          var inputboxes = document.getElementsByClassName("register-name");

          for (let i = 0; i < inputboxes.length; i++) {
            if (inputboxes[i].value === "") {
              allFilled = true;
              break;
            }
          }
          if (!allFilled) {
            var name = inputboxes[0].value;
            var parentname = inputboxes[2].value;
            var email = inputboxes[3].value;
            var mobileno = inputboxes[4].value;
            var aadhar = inputboxes[7].value;
            var address = inputboxes[8].value;

            const dobInput = document.getElementById("dob");
            const dobString = dobInput.value;

            const dobDate = new Date(dobString);

            const currentDate = new Date();

            const age = currentDate.getFullYear() - dobDate.getFullYear();

            if (
              currentDate.getMonth() < dobDate.getMonth() ||
              (currentDate.getMonth() === dobDate.getMonth() &&
                currentDate.getDate() < dobDate.getDate())
            ) {
              age--;
            }

            window.location.href =
              "personalinfo.html?name=" +
              name +
              "&age=" +
              age +
              "&parentname=" +
              parentname +
              "&email=" +
              email +
              "&mobileno=" +
              mobileno +
              "&aadhar=" +
              aadhar +
              "&address=" +
              address;
          } else {
            alert("Enter valid details");
          }
        });
    </script>
  </body>
</html>
